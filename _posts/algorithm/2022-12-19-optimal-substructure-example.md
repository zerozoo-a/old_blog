---
layout: post
title: optimal-substructure-example
date: 2022-12-19 23:54 +0900
categories: ["DP"]
---
# DP 문제인지 구분 할 수 있을까? (😱)
![마트료시카 이미지 출처 unsplash](https://images.unsplash.com/photo-1613981948475-6e2407d8b589?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1740&q=80)
<a href="https://unsplash.com/photos/PB80D_B4g7c">이미지 출처</a>



## index 
--- 
- [DP 문제인지 구분 할 수 있을까? (😱)](#dp-문제인지-구분-할-수-있을까-)
  - [index](#index)
  - [문제](#문제)
  - [풀이](#풀이)
    - [최적의 하위 구조](#최적의-하위-구조)
    - [하위 문제가 반복적일 것](#하위-문제가-반복적일-것)
  - [recap](#recap)

<br>
<br>
<br>
 
## 문제 
--- 
> DP 문제인지 아닌지 구분하는 방법을 서술하시오


<br>
<br>

## 풀이 
--- 
DP를 사용해 문제를 푸는데 필요한 조건이 2 가지 있다.

위 두가지는 기술하는 책이나 자료마다 약간씩 다른 어휘를 사용하지만
본질적으로 의미하는 바는 모두 같습니다.


### 최적의 하위 구조
---

최적의 하위 구조는 `n`개의 원소를 가지는 문제에 대해
`k < n` 을 정의하고 `n`보다 더 작은 `k`의 최적의 풀이법을 찾고
이를 결합하여 `n`의 문제의 답을 내는 것입니다.

계단 문제나 최단경로등의 문제를 예로 들면

계단문제의 경우 n 개의 계단을 n<sub>(n-1)</sub> + n<sub>(n-2)</sub> (n > 2)로 놓고 점화식을 세우면
일반항은 아니지만 점화식만으로 충분히 원하는 답을 구해낼 수 있게 됩니다.

비슷한 예로 보통 경우의 수를 구하는 문제인 
서울에서 대구를 거쳐 부산을 가는데 가장 빠른 루트를 찾는다고 가정합시다.

서울에서 가장 빠르게 대구로 가는 루트가 1 시간이 걸린다고 가정하고 대구에서 부산으로 가는 가장 빠른 루트가
2 시간이 걸린다고 가정한다면 1과 2를 더하고 싶지 않겠습니까?

그런데 이 1이라는 시간은 서울에서 부산까지 가는데에 있어 이미 구한 더 작은 문제의 답이였습니다.

바로 이 느낌을 가지고 문제를 푸는 것이 최적 하위 구조를 가지고 문제를 푼다는 것입니다.

따라서 최적 하위 구조를 가져야 할 것입니다.

최적 하위 구조는 기본적으로 작은 문제들과 큰 문제의 형태가 거의 동일하므로 재귀로 풀 수 있습니다.


재귀로 구현이 될 수 없다면 그것은 DP로 풀 수 없는 문제라고 봐도 무방합니다.

<br>
### 하위 문제가 반복적일 것
---

하위 문제가 반복적이라는 것은 하위 문제에 대해 같은 인자에 같은 반환값이 돌아온다는 것입니다.

이를 가볍게 여기면 안되는데요.

간단히 피보나치 수열을 예로 들면 피보나치 수열 5에 대한 계산을 한다고 가정합시다.
피보나치 수열 5에 대한 값을 만들 때 총 재귀 호출이 9 번 일어나게 됩니다.(기저조건에 닿는 호출 제외)


이 중에서 4 번은 완벽히 반복되어 다시 연산 할 필요가 없는 값입니다.

따라서 이를 메모리를 사용하여 저장하는 것이 하위 문제를 memoization 한다라고 합니다.

이렇게 불필요한 연산을 줄임으로써 지수 시간을 사용하던 알고리즘의 시간을 크게 단축 할 수 있게 됩니다.

<br>
<br>

## recap 
--- 

DP는 복잡하지만 더 복잡한 문제를 해결해준다.
<br>
<br>

