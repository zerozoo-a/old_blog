---
layout: post
title: 이진수 소수부에 대해
date: 2022-09-09 20:32 +0900
category: ["cs"]
tags: ["이진수", "소수"]
---

기본적으로 소수를 다룰 때는 아래와 같은 경우를 조심해야한다.
```js
0.1+0.2 = 0.30000000000000004
```

이런 식으로 저장되는 이유를 알아보자.
우선 순환소수이든 무한소수이든 소수는 딱 떨어지지 못하고 무한으로 반복되는 녀석들이 있다.


이 친구들을 한정된 메모리 공간에 올려놓는 것은 불가능한데 그로 인해 생기는 문제점들이다.


0.1의 경우 10진수로 나타낸 방식인데 이를 2진수로 나타내게 되면 0110이 무한하게 반복된다.
```js
const a = 0.1
> a.toString(2)
'0.0001100110011001100110011001100110011001100110011001101'
```

십진수 소수의 이진수 표현은 아래와 같은 방식이다.

정수부는 아래의 방식으로 계산해줄 수 있다.
```text
    8421
9 = 1001 
8 + 1 = 9
```

![이렇게](https://user-images.githubusercontent.com/80259925/189383500-2b015f43-253e-48a3-bcd6-52a51ff32d72.png)
위의 소수부를 보게 되면 `(1*1/2)`로 작성된 부분은 소수로 생각해주면 0.5이다.
그다음 자리수 어떤 책에서 본 표현을 인용하자면 자리의 무게는 소수부의 첫째 자리가 `0.5`인 셈이다.
그 다음 자리는 `1/4`이므로 `1/4 = 0.25` `1/8 = 0.125` `1/16 = 0.0625`...

예를 들어 `0.75(10)`는 이진수로 어떻게 나타낼까? `0.5 + 0.25 = 0.75`이므로 각 자리수의 불을 킨다 생각해주면
`0.11`이 된다.

